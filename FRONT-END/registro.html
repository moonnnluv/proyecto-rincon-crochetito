<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rincón Crochetito</title>
    <link rel="icon" href="img/logo.ico">

    <!-- Bootstrap CSS/JS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Bootstrap Icons (porque usas bi-person-circle) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link rel="stylesheet" href="css/global.css">
</head>
<body>
    <!-- Topbar -->
    <div class="alert alert-marca text-center rounded-0 mb-0 py-2">
    ¿Encargos abiertos?
    <a href="https://www.instagram.com/rincon.crochetito" target="_blank">
        ¡Sí! Escríbeme para tu pedido personalizado ✨
    </a>
    </div>

    <!-- NAVBAR FULL-WIDTH (fuera del .container) -->
<!-- NAVBAR -->
<nav class="navbar navbar-expand-md navbar-dark bg-dark sticky-top shadow-sm">
    <div class="container align-items-center">
        <!-- Marca -->
        <a class="navbar-brand d-flex align-items-center gap-2" href="home.html">
        <img src="img/logo.ico" alt="Rincón Crochetito" width="28" height="28" class="rounded">
        <span>Rincón Crochetito</span>
        </a>

        <!-- Toggler -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav"
                aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Menú -->
        <div class="collapse navbar-collapse justify-content-center" id="mainNav">
        <!-- Links al centro -->
        <ul class="navbar-nav gap-2 navbar-center">
            <li class="nav-item"><a class="nav-link" href="home.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="productos.html">Productos</a></li>
            <li class="nav-item"><a class="nav-link" href="nosotros.html">Nosotros</a></li>
            <li class="nav-item"><a class="nav-link" href="blog.html">Blogs</a></li>
            <li class="nav-item"><a class="nav-link" href="contacto.html">Contacto</a></li>
        </ul>

        <!-- Acciones a la derecha -->
        <ul class="navbar-nav align-items-center gap-2 ms-auto">
        <!-- Carrito -->
        <li class="nav-item">
            <a class="nav-link p-0" href="carrito.html" aria-label="Carrito">
            <span class="position-relative d-inline-block px-2 py-1">
                <i class="bi bi-cart3 fs-5"></i>
                <span id="cartCount"
                class="position-absolute translate-middle badge rounded-pill bg-danger d-none"
                style="top:-4px; left:18px; min-width:18px; height:18px; line-height:18px; font-size:.7rem; padding:0;">
                0
                </span>
            </span>
            </a>
        </li>

        <!-- Ingresar (si NO hay sesión) -->
        <li class="nav-item dropdown d-block" id="navIngresarItem">
            <a class="btn btn-primary btn-sm dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            Ingresar
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="iniciar_sesion.html">Iniciar sesión</a></li>
            <li><a class="dropdown-item" href="home_admin.html" onclick="go('ADMIN')">Vista Admin (demo)</a></li>
            <li><a class="dropdown-item" href="home_cliente.html" onclick="go('CLIENTE')">Vista Cliente (demo)</a></li>
            </ul>
        </li>

        <!-- Usuario (si HAY sesión) -->
        <li class="nav-item dropdown d-none" id="navUserItem">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-person-circle"></i> <span id="navUserEmail">Usuario</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="mi-cuenta.html">Mi cuenta</a></li>
            <li><a class="dropdown-item" href="pedidos.html">Mis pedidos</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><button class="dropdown-item" id="btnLogout" type="button">Cerrar sesión</button></li>
            </ul>
        </li>
        </ul>
        </div>
    </div>
</nav>
        <!-- CONTENIDO REGISTRO -->
        <main class="container py-5">
    <p class="text-center text-muted mb-4">
        Los campos marcados con <span class="text-danger">*</span> son obligatorios.
    </p>

    <div class="row justify-content-center">
        <div class="col-12 col-lg-8">
        <div class="card shadow-sm">
            <div class="card-body p-4">
            <h1 class="h4 mb-3">Crea tu cuenta</h1>

            <div id="regAlert" class="alert d-none" role="alert"></div>

            <form id="formRegistro" novalidate>
                <div class="row g-3">
                <!-- RUN -->
                <div class="col-md-6">
                    <label class="form-label">RUN <span class="text-danger">*</span></label>
                    <input id="run" class="form-control" placeholder="Ej: 19011022K" required>
                    <div class="invalid-feedback">RUN inválido.</div>
                </div>

                <!-- Nombre / Apellidos -->
                <div class="col-md-6">
                    <label class="form-label">Nombre</label>
                    <input id="nombre" class="form-control" maxlength="60">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Apellidos <span class="text-danger">*</span></label>
                    <input id="apellidos" class="form-control" required maxlength="80">
                    <div class="invalid-feedback">Ingresa tus apellidos.</div>
                </div>

                <!-- Correo / Teléfono -->
                <div class="col-md-6">
                    <label class="form-label">Correo <span class="text-danger">*</span></label>
                    <input id="correo" type="email" class="form-control" placeholder="usuario@duoc.cl" required>
                    <div class="form-text">
                    Dominios permitidos: <strong>@duoc.cl</strong>, <strong>@profesor.duoc.cl</strong>, <strong>@gmail.com</strong>
                    </div>
                    <div class="invalid-feedback">Correo inválido o dominio no permitido.</div>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Teléfono (opcional)</label>
                    <input id="telefono" class="form-control" placeholder="9 XXXX XXXX" inputmode="numeric">
                    <div class="form-text">Formato CL: 9 dígitos (ej: 9XXXXXXXX)</div>
                </div>

                <!-- Password / Confirm -->
                <div class="col-md-6">
                    <label class="form-label">Contraseña <span class="text-danger">*</span></label>
                    <div class="input-group">
                    <input id="pass" type="password" class="form-control" placeholder="4 a 10 caracteres" required minlength="4" maxlength="10">
                    <button class="btn btn-outline-secondary" type="button" id="togglePass"><i class="bi bi-eye"></i></button>
                    <div class="invalid-feedback">Debe tener entre 4 y 10 caracteres.</div>
                    </div>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Confirmar contraseña <span class="text-danger">*</span></label>
                    <div class="input-group">
                    <input id="pass2" type="password" class="form-control" required minlength="4" maxlength="10">
                    <button class="btn btn-outline-secondary" type="button" id="togglePass2"><i class="bi bi-eye"></i></button>
                    <div class="invalid-feedback">Las contraseñas no coinciden.</div>
                    </div>
                </div>

                <!-- Región / Comuna -->
                <div class="col-md-6">
                    <label class="form-label">Región <span class="text-danger">*</span></label>
                    <select id="region" class="form-select" required>
                    <option value="" selected disabled>Seleccione…</option>
                    <option>Región Metropolitana</option>
                    <option>Valparaíso</option>
                    <option>Biobío</option>
                    </select>
                    <div class="invalid-feedback">Selecciona una región.</div>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Comuna <span class="text-danger">*</span></label>
                    <select id="comuna" class="form-select" required disabled>
                    <option value="" selected disabled>Seleccione…</option>
                    </select>
                    <div class="invalid-feedback">Selecciona una comuna.</div>
                </div>

                <!-- Dirección -->
                <div class="col-12">
                    <label class="form-label">Dirección</label>
                    <input id="direccion" class="form-control" maxlength="120">
                </div>
                </div>

                <div class="d-flex justify-content-between mt-4">
                <a href="iniciar_sesion.html" class="btn btn-outline-secondary">Ya tengo cuenta</a>
                <button class="btn btn-primary">Crear cuenta</button>
                </div>

                <p class="small text-muted mt-3 mb-0">
                * Registro de demostración: no almacenamos datos. Si el formulario es válido, obtienes <strong>10% de descuento</strong> en el carrito.
                </p>
            </form>
            </div>
        </div>
        </div>
    </div>
    </main>



    </div><!-- /.container -->
    

    <footer class="bg-dark text-light text-center py-4 mt-4">
        <p class="mb-1">&copy; 2025 Rincón Crochetito</p>
        <a href="https://github.com/moonnnluv" target="_blank" class="text-light text-decoration-none">
        Hecho con ❤️ por Ale
        </a>
    </footer>
    </body>
    </html>